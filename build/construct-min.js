!function(){var e=function(e){var t=null,n=[],s=!1;this.add=function(c){s?c.apply(e,t):n.push(c)},this.resolve=function(){if(!s){t=arguments,s=!0;for(var c=n.shift();c;)c.apply(e,arguments),c=n.shift();n=null}}};Object.extend=function(e,t){for(var n in t)t[n]&&t[n].constructor&&t[n].constructor===Object?(e[n]=e[n]||{},arguments.callee(e[n],t[n])):e[n]=t[n];return e},construct=function(e,t){e.deps&&Object.extend(construct.config,e.deps),t&&(construct.callback=t),construct.promise.resolve(),construct.init()},construct.init=function(){var e=new APP;window.app=e,Backbone.history.start(),construct.callback&&construct.callback(e)},construct.register=function(e){e&&e.update&&construct.loop.push(e.update)},construct.configure=function(e){construct.promise.add(e)},construct.loop=[],construct.update=function(){},construct.promise=new e,construct.config={paths:{jquery:["//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.2/jquery.min"],json2:["//cdnjs.cloudflare.com/ajax/libs/json2/20121008/json2.min"],underscore:["//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.4.4/underscore-min"],handlebars:["//cdnjs.cloudflare.com/ajax/libs/handlebars.js/1.0.0/handlebars.min"],backbone:["//cdnjs.cloudflare.com/ajax/libs/backbone.js/1.0.0/backbone-min"],"three.js":["//cdnjs.cloudflare.com/ajax/libs/three.js/r58/three.min"],"backbone.app":["//rawgithub.com/makesites/backbone-app/0.9.0/build/backbone.app-min"],"jquery.three":["//rawgithub.com/makesites/jquery-three/master/build/jquery.three"]},shim:{jquery:{deps:["json2"]},underscore:{exports:"_"},backbone:{deps:["underscore","jquery"],exports:"Backbone"},"backbone.app":{deps:["backbone","underscore","jquery"]},"jquery.three":{deps:["jquery","three.js"]},"construct.input":{deps:["construct"]},"construct.editor":{deps:["construct"]}},deps:[]},construct.promise.add(function(){require(["backbone.app"],function(){APP.Models.User=APP.Model.extend({defaults:{admin:!0}}),APP.Models.Asset=APP.Model.extend({defaults:{x:0,y:0,editable:!0}}),APP.Collections.Users=APP.Collection.extend({}),APP.Collections.Assets=APP.Collection.extend({})})}),construct.promise.add(function(){require(["backbone.app","jquery.three"],function(){APP.Meshes={},APP.Sprites={},APP.Actors={},APP.Mesh=Backbone.View.extend({preRender:function(){},render:function(){},postRender:function(){},update:function(){}}),APP.Meshes.Static=APP.Mesh.extend({}),APP.Meshes.Dynamic=APP.Meshes.Static.extend({}),APP.Meshes.Avatar=APP.Meshes.Dynamic.extend({}),APP.Meshes.NPC=APP.Meshes.Avatar.extend({}),APP.Meshes.Player=APP.Meshes.Avatar.extend({}),APP.Sprite=Backbone.View.extend({}),APP.Sprites.Static=APP.Sprite.extend({}),APP.Sprites.Animated=APP.Sprite.extend({}),APP.Views.Asset=APP.View.extend({})})})}();